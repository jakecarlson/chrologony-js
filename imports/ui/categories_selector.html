<template name="categories_selector">

    <select class="attr form-control {{#if small}}form-control-sm{{/if}}" name="categoryId" id="{{id}}" required disabled="{{unready}}">
        <option disabled selected="{{selectedValue null}}">Select a Category ...</option>
        {{#if collectionNotEmpty privateCategories}}
            <optgroup label="Private">
                {{#each category in privateCategories}}
                    <option value="{{category._id}}" selected="{{selectedValue category._id}}">
                        {{category.theme}}: {{category.name}} {{#if inactive category}}(inactive){{/if}}
                    </option>
                {{/each}}
            </optgroup>
        {{/if}}
        <optgroup label="Community">
            {{#each category in publicCategories}}
                <option value="{{category._id}}" selected="{{selectedValue category._id}}">
                    {{category.theme}}: {{category.name}} {{#if inactive category}}(inactive){{/if}}
                </option>
            {{/each}}
        </optgroup>
        <optgroup label="System">
            {{#each category in systemCategories}}
                <option value="{{category._id}}" selected="{{selectedValue category._id}}">
                    {{category.name}}
                </option>
            {{/each}}
        </optgroup>
    </select>

</template>