<template name="categories_selector">

    <select class="attr form-control" name="categoryId" id="{{id}}" required disabled="{{unready}}">
        <option disabled selected="{{selectedValue null}}">Select a Category ...</option>
        {{#if collectionNotEmpty privateCategories}}
            <optgroup label="Private">
                {{#each category in privateCategories}}
                    <option value="{{category._id}}" selected="{{selectedValue category._id}}">
                        {{category.theme}}: {{category.name}} {{#if inactive category}}(inactive){{/if}}
                    </option>
                {{/each}}
            </optgroup>
        {{/if}}
        <optgroup label="Public">
            {{#each category in publicCategories}}
                <option value="{{category._id}}" selected="{{selectedValue category._id}}">
                    {{#if isUserSource category.source}}
                        {{category.theme}}:
                    {{/if}}
                    {{category.name}} {{#if inactive category}}(inactive){{/if}}
                </option>
            {{/each}}
        </optgroup>
    </select>

</template>